<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jakarta.ee/jsf/facelets"
      xmlns:h="http://xmlns.jakarta.ee/jsf/html"
      xmlns:f="http://xmlns.jakarta.ee/jsf/core"
      xmlns:p="http://primefaces.org/ui">

<h:head>
    <meta charset="UTF-8" />
    <title>artemisa</title>

    <!-- (Opcional) Carga de íconos de PrimeFaces si los usas -->
    <!-- <h:outputStylesheet library="primefaces" name="primeicons/primeicons.css" /> -->

    <link rel="icon" href="https://cdn-icons-png.flaticon.com/512/5520/5520840.png" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/css/bootstrap.min.css" rel="stylesheet" />
    <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet' />
    <link href="https://cdn.jsdelivr.net/npm/remixicon@4.5.0/fonts/remixicon.css" rel="stylesheet" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@1.0.4/css/bulma.min.css" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.13.1/font/bootstrap-icons.min.css"/>
    <h:outputStylesheet name="css/indexstyle.css" />
</h:head>

<h:body>

  <h:form id="signinForm">
    <!-- Mensajes que el bean envía con clientId "sticky-key" -->
    <p:growl id="sticky-key" showDetail="true" />

    <div class="container">
      <div class="heading">Sign In</div>

      <div class="form">
        <p:inputText id="email"
                     value="#{userBean.newUsername}"
                     placeholder="E-mail"
                     required="true"
                     requiredMessage="El correo es obligatorio"
                     validatorMessage="Correo inválido"
                     styleClass="input">
          <!-- En Facelets un solo backslash funciona -->
          <f:validateRegex pattern="^[^@\s]+@[^@\s]+\.[^@\s]+$" />
        </p:inputText>

        <p:password id="password"
                    value="#{userBean.newPass}"
                    placeholder="Password"
                    required="true"
                    requiredMessage="La contraseña es obligatoria"
                    feedback="false"
                    toggleMask="true"
                    styleClass="input">
          <f:validateLength minimum="6" />
        </p:password>

        <p:commandButton id="signinBtn"
                         value="Sign In"
                         actionListener="#{userBean.crearUsuario}"
                         process="@form"
                         update="sticky-key"
                         ajax="true"
                         styleClass="login-button" />
      </div>

      <div class="auth-links">
        <span class="forgot-password"><h:link outcome="account" value="USER?" /></span>
        <span class="forgot-password"><h:link outcome="accountD" value="DOCENTE?" /></span>
        <span class="forgot-password"><h:link outcome="accountA" value="ADMIN?" /></span>
      </div>

      <div class="social-account-container">
        <span class="title">Or Sign in with</span>
        <!-- tus botones sociales -->
      </div>

      <span class="agreement"><a href="#">Learn user licence agreement</a></span>
    </div>
  </h:form>

  <!-- Scripts al final para no interferir con JSF -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/js/bootstrap.bundle.min.js" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.js"></script>
</h:body>
</html>
